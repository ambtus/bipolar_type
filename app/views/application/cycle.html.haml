- content_for(:title, @title)
-if @realms
  %p.center
    -@realms.each do |realm|
      =link_to realm.symbolic_name, realm_path(realm.path)


-if @answer
  %p.center
    If you can&rsquo;t find anything that sounds like you, try
    ='starting with' if @answer.number==1
    a different realm:
    -@answer.free_realms.without(@realm).each_with_index do |realm, index|
      =index == 0 ? '<br/ >'.html_safe : '|'
      =link_to realm.symbolic_name, answer_path(@answer.try(realm))
    -if @answer.number > 1
      %br
      or
      =link_to "start over", answer_path(Answer.first_path)
  -if @answer.number > 1
    %p.center
      Chosen: #{@answer.subtypes.map(&:display).and}

%table.none
  %caption
    %h2=@title

  %tr
    %td.bottom.right ðŸŒ”
    %td
    %td.right_border=render 'answer_link', subtype: @sixteen[2]
    %td ðŸŒ•<br />&rArr;<br />ðŸ˜€
    %td.left_border=render 'answer_link', subtype: @sixteen[4]
    %td
    %td.bottom.left ðŸŒ–

  %tr
    %td
    %td.left
      =render 'answer_link', subtype: @sixteen[1]
      %br
      2ndQ
    %td.right_border
    %td
    %td.left_border
    %td.right
      =render 'answer_link', subtype: @sixteen[5]
      %br
      3rdQ
    %td

  %tr
    %td.bottom_border=render 'answer_link', subtype: @sixteen[0]
    %td.bottom_border
    %td.bottom_border.right_border=render 'answer_link', subtype: @sixteen[3]
    %td
    %td.bottom_border.left_border=render 'answer_link', subtype: @sixteen[7]
    %td.bottom_border
    %td.bottom_border=render 'answer_link', subtype: @sixteen[6]

  %tr
    %td ðŸŒ“&nbsp;&uArr;&nbsp;ðŸ˜’
    %td
    %td
    %td &orarr;
    %td
    %td
    %td ðŸ˜«&nbsp;&dArr;&nbsp;ðŸŒ—

  %tr
    %td.top_border=render 'answer_link', subtype: @sixteen[10]
    %td.top_border
    %td.top_border.right_border=render 'answer_link', subtype: @sixteen[11]
    %td
    %td.top_border.left_border=render 'answer_link', subtype: @sixteen[15]
    %td.top_border
    %td.top_border=render 'answer_link', subtype: @sixteen[12]

  %tr
    %td
    %td.left
      1stQ
      %br
      =render 'answer_link', subtype: @sixteen[9]
    %td.right_border
    %td
    %td.left_border
    %td.right
      4thQ
      %br
      =render 'answer_link', subtype: @sixteen[13]
    %td

  %tr
    %td.top.right ðŸŒ’
    %td
    %td.right_border=render 'answer_link', subtype: @sixteen[8]
    %td ðŸ˜´<br />&nvlArr;<br />ðŸŒ‘
    %td.left_border=render 'answer_link', subtype: @sixteen[14]
    %td
    %td.top.left ðŸŒ˜

-if @type
  %h2 Sample behaviors


  %h3 Theory
  %table
    %tr
      %th
      %td.compulsion Minimize compulsion
      %td.guilt Minimize guilt
      %td.control Maximize control
      %td.serenity Maximize serenity
    -@type.foci.each do |first|
      %tr
        %th=first.realm.name
        -first.cycle.subtypes.each do |subtype|
          %td{class: subtype.state_type, class: subtype.cycle_type}=link_to subtype.triplet.eg, subtype_path(subtype.path)

  %h3 By Realm
  %table
    %tr
      %th
      %td.control Start
      %td.serenity Stop
      %td.guilt If unbalanced
      %td.compulsion Don&rsquo;t start!
    -@type.foci.each do |first|
      %tr
        %th=first.realm.name
        -first.cycle.by_focus.each do |subtype|
          %td{class: subtype.state_type, class: subtype.cycle_type}=link_to subtype.eg, subtype_path(subtype.path)


  %h3 By Quarter
  %table
    %tr
      %th
      -4.times do |i|
        %th #{(i+1).ordinalize} Quarter
    -@type.foci.each do |first|
      %tr
        %th=first.realm.name
        -first.cycle.by_quarter.each do |subtype|
          %td{class: subtype.state_type, class: subtype.cycle_type}=link_to subtype.triplet.eg, subtype_path(subtype.path)

